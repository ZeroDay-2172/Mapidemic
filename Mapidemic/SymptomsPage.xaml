<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:local="clr-namespace:Mapidemic"
                xmlns:models="clr-namespace:Mapidemic.Models"
                x:DataType="models:BusinessLogic"
                x:Class="Mapidemic.SymptomsPage">
    
    <Grid ColumnDefinitions="1*"
          RowDefinitions="1*, Auto, 8*, 1*">

        <Label Grid.Row="0"
               FontSize="30"
               FontAttributes="Bold"
               VerticalOptions="Center"
               HorizontalOptions="Center"
               Text="Select your symptoms"/>

        <BoxView Grid.Row="1" HeightRequest="1" BackgroundColor="#696969"></BoxView>

        <CollectionView Grid.Row="2"
                        x:Name="SymptomsCV"
                        SelectionMode="None"
                        ItemsSource="{Binding SymptomList}">

            <CollectionView.ItemTemplate>

                <DataTemplate x:DataType="models:Symptom">

                    <Grid RowDefinitions="*"
                          HeightRequest="75"
                          ColumnDefinitions="1*, 4*">

                        <CheckBox Grid.Column="0"
                                  Color="#0074C0"
                                  VerticalOptions="Fill"
                                  HorizontalOptions="Fill" 
                                  IsChecked="{Binding IsChecked}"/>

                        <Label FontSize="25"
                               Grid.Column="1"
                               Text="{Binding Name}"
                               VerticalOptions="Fill"
                               LineBreakMode="WordWrap"
                               HorizontalOptions="Fill"
                               VerticalTextAlignment="Center">

                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnSymptomTapped"/>
                            </Label.GestureRecognizers>

                        </Label>

                    </Grid>

                </DataTemplate>

            </CollectionView.ItemTemplate>

        </CollectionView>

        <Button Grid.Row="3"
                FontSize="30"
                CornerRadius="0"
                Text="Enter symptoms"
                Clicked="OnEnterClicked"
                BackgroundColor="#0074C0"
                VerticalOptions="FillAndExpand"
                HorizontalOptions="FillAndExpand" />

    </Grid>

</ContentPage>